(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{2356:function(t,e,n){"use strict";n.d(e,{qj:function(){return c},I8:function(){return o},wC:function(){return r.Z}});var r=n(1902),i=(n(2419),n(9085),r.Z.initializeApp({apiKey:"AIzaSyDw7earOkG9OgH-Ix8tA2glYTxY8i2XMF0",authDomain:"timeklipper.firebaseapp.com",projectId:"timeklipper",storageBucket:"timeklipper.appspot.com",messagingSenderId:"306588062593",appId:"1:306588062593:web:847b0536cf3668482e0e80"}),r.Z.firestore()),o=r.Z.auth(),s=new r.Z.auth.GoogleAuthProvider;s.setCustomParameters({prompt:"select_account"});var c=function(){return o.signInWithPopup(s)};e.ZP=i},1496:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ct}});var r=n(5893),i=(n(9008),n(682)),o=n(1608),s=n(1555),c=(n(8210),n(6994)),u=n.n(c),l=n(7294),a=n(3680),f=n(2671),p=n(8045),d=(n(7986),n(2356)),h=n(9337);function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function g(t,e){return!e||"object"!==_(e)&&"function"!==typeof e?m(t):e}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function w(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function U(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}var Z=h.mM.create({page:{margin:"80px"},headline:{fontSize:"30px",fontWeight:"bold",marginBottom:"10px"},paragraph:{fontSize:"14px"}}),O=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(l,t);var e,n,i,c=U(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),v(m(e=c.call(this,t)),"handleUnitChange",(function(t){!e.state.unitsToUse>e.props.units&&e.setState({unitsToUse:t.target.value})})),v(m(e),"handleDescChange",(function(t){e.setState({unitDesc:t.target.value})})),v(m(e),"detractUnits",(function(){var t={unitsUsed:e.state.unitsToUse,unitDesc:e.state.unitDesc,timestamp:d.wC.firestore.Timestamp.now()},n=!0;e.state.units-e.state.unitsToUse==0&&(n=!1),e.setState((function(r,i){return{units:r.units-e.state.unitsToUse,active:n,unitDescs:w(e.state.unitDescs).concat(w([t]))}})),d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").doc(e.props.title).update({units:e.state.units-e.state.unitsToUse,active:n,unitDesc:d.wC.firestore.FieldValue.arrayUnion(t)})})),v(m(e),"archive",(function(){d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").doc(e.props.title).update({archived:!0}).then((function(){return window.location.reload()}))})),v(m(e),"addZeroToMinutes",(function(t){var e=t.getMinutes();return 1===e.toString().length&&(e="0"+e),e})),e.state={units:e.props.units,unitsToUse:0,active:e.props.active,unitDesc:"",unitDescs:e.props.unitDesc,showFile:!1},e}return e=l,(n=[{key:"componentDidUpdate",value:function(t){this.props!=t&&this.setState({units:this.props.units,unitsToUse:0,active:this.props.active,unitDescs:this.props.unitDesc})}},{key:"handleSubmit",value:function(t){if(this.state.unitsToUse>0){var e=this;(0,p._1)({title:"Brug klip",message:"Er du sikker p\xe5 du vil bruge "+this.state.unitsToUse+" klip, til en v\xe6rdi af "+this.state.unitsToUse*this.props.price+",-?",buttons:[{label:"Yes",onClick:function(){return e.detractUnits()}},{label:"No"}]})}}},{key:"render",value:function(){var t=this,e=function(){var e=t;return(0,r.jsx)(h.BB,{children:(0,r.jsxs)(h.T3,{style:Z.page,children:[(0,r.jsx)(h.xv,{style:Z.headline,children:t.props.title}),(0,r.jsxs)(h.xv,{style:Z.paragraph,children:["Antal klip brugt: ",t.props.initUnits," ","\n","Timepris: ",t.props.price,",- ","\n","Samlet v\xe6rdi: ",t.props.initUnits*t.props.price,",-","\n\n",t.state.unitDescs.map((function(t,n){var i=t.timestamp.toDate(),o=e.addZeroToMinutes(i);return(0,r.jsxs)("div",{children:[t.unitsUsed," klip brugt d. ",i.getDate(),"/",i.getMonth()+1,"-",i.getFullYear()," kl. ",i.getHours(),":",o," - ",t.unitDesc,"\n"]},n)}))]})]})})},n=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)("p",{style:{textDecoration:"underline"},children:"Dette job er afsluttet."}),(0,r.jsxs)(s.Z,{children:[(0,r.jsxs)("p",{children:["Antal klip brugt: ",this.props.initUnits]}),(0,r.jsxs)("p",{children:["Timepris: ",this.props.price,",-"]}),(0,r.jsxs)("p",{children:["Samlet v\xe6rdi: ",this.props.initUnits*this.props.price,",-"]})]}),(0,r.jsxs)(o.Z,{style:{display:"flex",justifyContent:"center"},children:[(0,r.jsx)(s.Z,{children:(0,r.jsx)(a.Z,{variant:"danger",style:{width:"100px",marginRight:"20px",float:"right"},onClick:this.archive,children:"Arkiver"})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(h.WD,{document:(0,r.jsx)(e,{}),fileName:this.props.title+".pdf",children:function(t){t.blob,t.url;var e=t.loading;return t.error,e?(0,r.jsx)(a.Z,{children:"Indl\xe6ser ..."}):(0,r.jsx)(a.Z,{children:"Download"})}})})]})]})});return(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)(o.Z,{children:(0,r.jsx)("h1",{children:this.props.title})}),(0,r.jsx)(o.Z,{children:(0,r.jsx)("p",{children:this.props.desc})}),this.state.active?(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("p",{style:{textAlign:"center"},children:"Klip tilbage"}),(0,r.jsx)("div",{className:u().numberBox,children:this.state.units})]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(f.Z.Group,{style:{marginTop:"50px"},className:"mb-3",controlId:"formUnitDesc",children:(0,r.jsx)(f.Z.Control,{style:{margin:"0 auto",display:"block"},as:"textarea",rows:3,className:u().unitDescInput,name:"unitDesc",value:this.state.unitDesc,onChange:function(e){return t.handleDescChange(e)},type:"text",placeholder:"Brugsbeskrivelse ..."})}),(0,r.jsx)(a.Z,{style:{margin:"0 auto",display:"block",backgroundColor:"#1796ff"},onClick:function(e){return t.handleSubmit(e)},children:"Brug"}),(0,r.jsxs)("p",{style:{textAlign:"center"},children:["V\xe6rdi: ",this.state.unitsToUse*this.props.price," "]})]}),(0,r.jsx)(s.Z,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("p",{style:{textAlign:"center"},children:"Brug klip"}),(0,r.jsx)(f.Z.Group,{className:"mb-3",controlId:"formUnitsToUse",children:(0,r.jsx)(f.Z.Control,{className:u().numberBox,name:"unitsToUse",value:this.state.unitsToUse,onChange:function(e){return t.handleUnitChange(e)},type:"number",placeholder:"0"})}),(0,r.jsxs)("p",{style:{textAlign:"center"},children:["Klipv\xe6rdi: ",this.props.price]})]}),(0,r.jsxs)(s.Z,{style:{marginLeft:"-100px",display:"flex",alignItems:"flex-start",flexDirection:"column",marginTop:"40px"},children:[(0,r.jsx)(a.Z,{className:u().changeUnitsButton,onClick:function(){t.state.unitsToUse<t.props.units&&t.setState((function(t,e){return{unitsToUse:t.unitsToUse+.25}}))},children:"+"}),(0,r.jsx)(a.Z,{className:u().changeUnitsButton,onClick:function(){t.state.unitsToUse>0&&t.setState((function(t,e){return{unitsToUse:t.unitsToUse-.25}}))},children:"-"})]})]})})]}):n,(0,r.jsx)("hr",{}),(0,r.jsx)(o.Z,{children:(0,r.jsx)("h3",{children:"Brugte Klip"})}),(0,r.jsx)(o.Z,{children:this.state.unitDescs.map((function(e,n){var i=e.timestamp.toDate(),o=t.addZeroToMinutes(i);return(0,r.jsxs)("div",{children:[e.unitsUsed," klip brugt d. ",i.getDate(),"/",i.getMonth()+1,"-",i.getFullYear()," kl. ",i.getHours(),":",o," - ",e.unitDesc]},n)}))})]})}}])&&y(e.prototype,n),i&&y(e,i),l}(l.Component);function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},D(t)}function A(t,e){return!e||"object"!==I(e)&&"function"!==typeof e?k(t):e}function T(t,e){return T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},T(t,e)}var I=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D(t);if(e){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A(this,n)}}var N=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(l,t);var e,n,i,c=P(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),C(k(e=c.call(this,t)),"onSubmit",(function(t){t.preventDefault();var n={title:e.state.title,desc:e.state.desc,price:e.state.price,units:e.state.units,active:!0,initUnits:e.state.units,archived:!1,unitDesc:[]};d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").doc(n.title).set(n).then((function(){console.log("Write succeeded!"),window.location.reload()}))})),C(k(e),"handleChange",(function(t){var n=t.target.name;e.setState(C({},n,t.target.value))})),e.onSubmit=e.onSubmit.bind(k(e)),e.state={title:"",desc:"",price:"0",units:"0"},e.onSubmit=e.onSubmit.bind(k(e)),e}return e=l,(n=[{key:"render",value:function(){var t=this;return(0,r.jsxs)(f.Z,{style:{padding:"20px"},onSubmit:this.onSubmit,children:[(0,r.jsx)("h1",{children:"Opret Aftale"}),(0,r.jsx)(f.Z.Group,{className:"mb-3",controlId:"formTitle",children:(0,r.jsx)(f.Z.Control,{name:"title",value:this.state.title,onChange:function(e){return t.handleChange(e)},type:"text",placeholder:"Enter Title ..."})}),(0,r.jsx)(f.Z.Group,{className:"mb-3",controlId:"formDesc",children:(0,r.jsx)(f.Z.Control,{as:"textarea",rows:5,name:"desc",value:this.state.desc,onChange:function(e){return t.handleChange(e)},type:"text",placeholder:"Enter Description ..."})}),(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(s.Z,{children:[(0,r.jsx)("p",{style:{textAlign:"center"},children:"Pris"}),(0,r.jsx)(f.Z.Group,{className:"mb-3 ",controlId:"formPrice",children:(0,r.jsx)(f.Z.Control,{name:"price",className:u().numberBox,value:this.state.price,onChange:function(e){return t.handleChange(e)},type:"number",placeholder:"0"})})]}),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(a.Z,{style:{margin:"0 auto",display:"block",height:"80px",width:"200px",marginTop:"50px",backgroundColor:"#1796ff"},type:"submit",children:"Opret"}),(0,r.jsxs)("p",{style:{textAlign:"center"},children:["Samlet v\xe6rdi af aftalen: ",this.state.price*this.state.units]})]}),(0,r.jsx)(s.Z,{children:(0,r.jsxs)(f.Z.Group,{className:"mb-3",controlId:"formUnits",children:[(0,r.jsx)("p",{style:{textAlign:"center"},children:"Klip"}),(0,r.jsx)(f.Z.Control,{name:"units",value:this.state.units,className:u().numberBox,onChange:function(e){return t.handleChange(e)},type:"number",placeholder:"0"})]})})]})]})}}])&&S(e.prototype,n),i&&S(e,i),l}(l.Component),B=n(974),R=n(1664);function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,c=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){c=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(){return G((0,B.F_)(d.I8),1)[0]?(0,r.jsxs)(o.Z,{className:u().header,children:[(0,r.jsx)(s.Z,{children:(0,r.jsx)("h3",{className:u().logo,onClick:function(){},children:"TimeKlipper"})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)("p",{className:u().phoneNumber,children:d.I8.currentUser.phoneNumber})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)("h3",{className:u().signOut,onClick:function(){d.I8.signOut()},children:"Log ud"})})]}):(0,r.jsx)(o.Z,{className:u().header,children:"Please log in"})}var F=n(1163);function J(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}function W(t,e){return!e||"object"!==H(e)&&"function"!==typeof e?J(t):e}function Y(t,e){return Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Y(t,e)}var H=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function L(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W(this,n)}}var z=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(u,t);var e,n,i,c=L(u);function u(t){var e,n,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=c.call(this,t),n=J(e),i=function(t){d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").doc(t.title).update({archived:!1}).then((function(){return window.location.reload()}))},(r="deArchive")in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e.state={jobs:[]},e}return e=u,(n=[{key:"componentDidMount",value:function(){var t=this;d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").where("archived","==",!0).get().then((function(e){var n=e.docs.map((function(t){return t.data()}));t.setState({jobs:n.map((function(t){return{title:t.title,desc:t.desc,units:t.units,price:t.price,active:t.active,initUnits:t.initUnits}}))})}))}},{key:"render",value:function(){var t=this;return(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h1",{style:{marginBottom:"20px"},children:"Arkiv"}),this.state.jobs.map((function(e,n){var i=t;return(0,r.jsxs)(o.Z,{style:{height:"40px"},children:[(0,r.jsx)(s.Z,{style:{verticalAlign:"middle",lineHeight:"40px"},md:"2",lg:"2",children:(0,r.jsx)("p",{children:e.title})}),(0,r.jsx)(s.Z,{children:(0,r.jsx)(a.Z,{style:{verticalAlign:"middle",backgroundColor:"#1796ff"},onClick:function(){return i.deArchive(e)},children:"De-Archive"})}),(0,r.jsx)("hr",{})]},n)}))]})}}])&&V(e.prototype,n),i&&V(e,i),u}(l.Component);function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(t)}function et(t,e){return!e||"object"!==it(e)&&"function"!==typeof e?q(t):e}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function rt(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var it=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function ot(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tt(t);if(e){var i=tt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return et(this,n)}}var st=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(a,t);var e,n,c,l=ot(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Q(q(e=l.call(this,t)),"fetchJobs",(function(){d.ZP.collection("Users").doc(d.I8.currentUser.uid).collection("Jobs").where("archived","==",!1).get().then((function(t){var n=t.docs.map((function(t){return t.data()}));e.setState({jobs:n.map((function(t){return{title:t.title,desc:t.desc,units:t.units,price:t.price,active:t.active,initUnits:t.initUnits,archived:t.archived,unitDesc:t.unitDesc}}))})}))})),Q(q(e),"jobSubmitted",(function(t){e.setState((function(e){return{jobs:rt(e.jobs).concat([t])}}))})),Q(q(e),"showArchives",(function(){e.setState({jobView:(0,r.jsx)(z,{})})})),e.state={jobView:(0,r.jsx)("h2",{style:{textAlign:"center",verticalAlign:"middle",lineHeight:"94vh"},children:"V\xe6lg en opgave"}),jobs:[]},e.addNew=e.addNew.bind(q(e)),e.jobClicked=e.jobClicked.bind(q(e)),e}return e=a,(n=[{key:"componentDidMount",value:function(){d.I8.currentUser&&this.fetchJobs()}},{key:"addNew",value:function(){this.setState({jobView:(0,r.jsx)(N,{jobSubmitted:this.jobSubmitted})})}},{key:"jobClicked",value:function(t){this.setState({jobView:(0,r.jsx)(O,{title:t.title,desc:t.desc,units:t.units,price:t.price,active:t.active,initUnits:t.initUnits,unitDesc:t.unitDesc})})}},{key:"render",value:function(){if(d.I8.currentUser){var t=this;return(0,r.jsxs)(i.Z,{className:u().body,fluid:!0,children:[(0,r.jsx)(M,{}),(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(s.Z,{className:u().menu,xs:"2",sm:"2",md:"2",lg:"2",children:[(0,r.jsx)("h3",{children:"Utils"}),(0,r.jsx)("p",{className:u().menuItem,onClick:this.addNew,children:"Opret ny"}),(0,r.jsx)("p",{className:u().menuItem,onClick:this.showArchives,children:"Arkiv"}),(0,r.jsx)("hr",{}),(0,r.jsx)("h3",{children:"Aftaler"}),this.state.jobs.map((function(e,n){var i=t;return(0,r.jsx)("p",{className:u().menuItem,onClick:function(){return i.jobClicked(e)},children:e.title},n)}))]}),(0,r.jsx)(s.Z,{children:this.state.jobView})]})]})}return(0,r.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[(0,r.jsx)("p",{children:"Du skal v\xe6re logget ind for at tilg\xe5 denne side"}),(0,r.jsx)(R.default,{href:"/",children:"Klik her for at logge ind"})]})}}])&&X(e.prototype,n),c&&X(e,c),a}(l.Component),ct=(0,F.withRouter)(st)},6994:function(t){t.exports={body:"Global_body__yhLv6",header:"Global_header__tk3IN",menu:"Global_menu__rEi2O",menuItem:"Global_menuItem__FrRgg",signOut:"Global_signOut__O0LLc",logo:"Global_logo__N_0gU",phoneNumber:"Global_phoneNumber__Yol2G",numberBox:"Global_numberBox__7gJks",unitDescInput:"Global_unitDescInput__B_3Fj",changeUnitsButton:"Global_changeUnitsButton__WDWOC"}},2480:function(){}}]);